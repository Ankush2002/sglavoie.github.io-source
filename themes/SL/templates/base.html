{% set active_page = active_page|default('home') -%}

<!DOCTYPE html>
<html lang="{% block html_lang %}{{ DEFAULT_LANG }}{% endblock html_lang %}">
    <head>
        {% block head %}
        <title>{% block title %}{{ SITENAME }} | {{ SITESUBTITLE }}{% endblock title %}</title>

        <!-- Required meta tags -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <meta name="description" content="{{ SITE_DESCRIPTION }}">

        {% if FEED_ALL_ATOM -%}
        <link href="{{ FEED_DOMAIN }}/{% if FEED_ALL_ATOM_URL %}{{ FEED_ALL_ATOM_URL }}{% else %}{{ FEED_ALL_ATOM }}{% endif %}" type="application/atom+xml" rel="alternate" title="{{ SITENAME }} Full Atom Feed" />
        {% endif %}

        {%- if FEED_ALL_RSS -%}
        <link href="{{ FEED_DOMAIN }}/{% if FEED_ALL_RSS_URL %}{{ FEED_ALL_RSS_URL }}{% else %}{{ FEED_ALL_RSS }}{% endif %}" type="application/rss+xml" rel="alternate" title="{{ SITENAME }} Full RSS Feed" />
        {% endif %}

        {%- if FEED_ATOM -%}
        <link href="{{ FEED_DOMAIN }}/{%if FEED_ATOM_URL %}{{ FEED_ATOM_URL }}{% else %}{{ FEED_ATOM }}{% endif %}" type="application/atom+xml" rel="alternate" title="{{ SITENAME }} Atom Feed" />
        {% endif %}

        {%- if FEED_RSS -%}
        <link href="{{ FEED_DOMAIN }}/{% if FEED_RSS_URL %}{{ FEED_RSS_URL }}{% else %}{{ FEED_RSS }}{% endif %}" type="application/rss+xml" rel="alternate" title="{{ SITENAME }} RSS Feed" />
        {% endif %}

        {%- if CATEGORY_FEED_ATOM and category -%}
        <link href="{{ FEED_DOMAIN }}/{% if CATEGORY_FEED_ATOM_URL %}{{ CATEGORY_FEED_ATOM_URL|format(category.slug) }}{% else %}{{ CATEGORY_FEED_ATOM|format(category.slug) }}{% endif %}" type="application/atom+xml" rel="alternate" title="{{ SITENAME }} Categories Atom Feed" />
        {% endif %}

        {%- if CATEGORY_FEED_RSS and category -%}
        <link href="{{ FEED_DOMAIN }}/{% if CATEGORY_FEED_RSS_URL %}{{ CATEGORY_FEED_RSS_URL|format(category.slug) }}{% else %}{{ CATEGORY_FEED_RSS|format(category.slug) }}{% endif %}" type="application/rss+xml" rel="alternate" title="{{ SITENAME }} Categories RSS Feed" />
        {% endif %}

        {%- if TAG_FEED_ATOM and tag -%}
        <link href="{{ FEED_DOMAIN }}/{% if TAG_FEED_ATOM_URL %}{{ TAG_FEED_ATOM_URL|format(tag.slug) }}{% else %}{{ TAG_FEED_ATOM|format(tag.slug) }}{% endif %}" type="application/atom+xml" rel="alternate" title="{{ SITENAME }} Tags Atom Feed" />
        {% endif %}

        {%- if TAG_FEED_RSS and tag -%}
        <link href="{{ FEED_DOMAIN }}/{% if TAG_FEED_RSS_URL %}{{ TAG_FEED_RSS_URL|format(tag.slug) }}{% else %}{{ TAG_FEED_RSS|format(tag.slug) }}{% endif %}" type="application/rss+xml" rel="alternate" title="{{ SITENAME }} Tags RSS Feed" />
        {% endif %}

        <!-- Favicon -->
        <link rel="apple-touch-icon" sizes="180x180" href="/theme/images/apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32" href="/theme/images/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/theme/images/favicon-16x16.png">
        <link rel="manifest" href="/theme/images/site.webmanifest">
        <link rel="mask-icon" href="/theme/images/safari-pinned-tab.svg" color="#5bbad5">
        <link rel="shortcut icon" href="/theme/images/favicon.ico">
        <meta name="msapplication-TileColor" content="#2d89ef">
        <meta name="msapplication-TileImage" content="/theme/images/mstile-144x144.png">
        <meta name="msapplication-config" content="/theme/images/browserconfig.xml">
        <meta name="theme-color" content="#000000">
        <meta name="msapplication-config" content="/theme/images/browserconfig.xml">
        <meta name="theme-color" content="#000000">

        <!-- Bootstrap CSS -->
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">

        <!-- Font Awesome Icons -->
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">

        <!-- Custom CSS -->
        <link href="https://fonts.googleapis.com/css?family=Open+Sans|Roboto" rel="stylesheet"> 
        <link href='/theme/css/base.css?cache_id={{ BASE_CSS }}' rel='stylesheet' type='text/css'>
        <link href='/theme/css/pygment.css?cache_id={{ PYGMENT_CSS }}' rel='stylesheet' type='text/css'>

        {% endblock head %}
    </head>

    <body id="index" class="home">

        <nav id="bg-darker" class="navbar navbar-expand-lg navbar-dark">
            <a class="brand-link" href="/">

                <!-- SVG Logo with 5px padding -->
                <div class="brand-logo hover-img">
                    <svg width="24.348mm" height="24.348mm" version="1.1" viewBox="0 0 24.348095 24.347754" xmlns="http://www.w3.org/2000/svg" xmlns:cc="http://creativecommons.org/ns#" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
                        <metadata>
                        <rdf:RDF>
                        <cc:Work rdf:about="">
                        <dc:format>image/svg+xml</dc:format>
                        <dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage"/>
                        <dc:title/>
                        </cc:Work>
                        </rdf:RDF>
                        </metadata>
                        <g transform="translate(81.397 -84.454)">
                        <path d="m-57.049 105.9v2.9029h-11.173v-2.9029z" fill="#c0c0c0">
                        <animate attributeName="fill" values="white;grey;white" dur="2s" repeatCount="indefinite" />
                        </path>
                        <path d="m-72.272 98.481-9.1246 5.7598v-3.548l5.8658-3.5019v-0.09215l-5.8658-3.5019v-3.548l9.1246 5.7598z" fill="#c0c0c0"/>
                        <path transform="scale(.26458)" d="m-273.15 319.2-27.588 14.77 8.498 5.3613 19.09-12.049zm15.309 25.67v44.412h8.8672v-35.635h33.361v-8.7773h-33.783zm25.336 24.66v8.7774h8.0254v10.975h8.8672v-19.752z" fill="#007bff"/>
                        </g>
                    </svg>
                </div>


            </a>
            <button class="navbar-toggler hover-img" type="button" data-toggle="collapse" data-target="#sglavoie-menu" aria-controls="sglavoie-menu" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
                Menu
            </button>

            <div class="collapse navbar-collapse" id="sglavoie-menu">
                <div class="to-the-right">
                    <ul class="navbar-nav mr-auto mt-2 mt-lg-0">

                        {% for href, id, icon in MENUITEMS %}
                        <li class="nav-item{% if output_file in href %} active-nav{% endif %}">
                            <a class="nav-link{% if output_file in href %} active-link{% endif %}" href="{{ href|e }}">{{ icon }} {{ id }}</a>
                        </li>
                        {% endfor %}
                    </ul>
                </div>
            </div>
        </nav>

        <nav id="menu" class="navbar navbar-expand-lg navbar-dark">

            <button class="navbar-toggler hover-img" type="button" data-toggle="collapse" data-target="#sglavoie-menu-second" aria-controls="sglavoie-menu-second" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
                Categories
            </button>

            <div class="collapse navbar-collapse" id="sglavoie-menu-second">
                <div id="menu-categories-legend-id" class="menu-categories-legend categories-align">
                    <i class="fas fa-angle-left i-categories-align"></i><a class="lowercase-title always-white-no-margin nav-link-smaller" href="/categories.html">categories</a><i class="fas fa-angle-right i-categories-align"></i>
                </div>
                <ul class="navbar-nav mr-auto mt-2 mt-lg-0">

                    {% if DISPLAY_PAGES_ON_MENU %}
                    {% for p in pages %}
                    <li class="nav-item">
                        <a class="lowercase-title always-white nav-link-smaller" href="{{ SITEURL }}/{{ p.url }}">{{ p.title }}</a>
                    </li>
                    {% endfor %}
                    {% endif %}

                    {% if DISPLAY_CATEGORIES_ON_MENU %}
                    {% for cat, null in categories %}

                    <li class="nav-item">
                        <a class="lowercase-title always-white nav-link-smaller" href="{{ SITEURL }}/{{ cat.url }}">{{ cat }}</a>
                    </li>
                    {% endfor %}
                    {% endif %}

                </ul>
            </div>
        </nav>
        <!-- /#menu -->

        {% block content %}{% endblock %}

        <div class="footer-borders">
            <footer id="contentinfo" class="body bg-border hover-footer-bg">

                <address class="footer-icons">

                    <div class="get-in-touch-icons">
                        <ul class="social-footer">

                            <li><a href="https://github.com/sglavoie"><img src="/theme/images/footer/github.svg" alt="GitHub"></a></li>
                            <li><a href="https://www.twitter.com/sgdlavoie"><img src="/theme/images/footer/twitter.svg" alt="Twitter"></a></li>
                            <li><a href="https://www.linkedin.com/in/sglavoie"><img src="/theme/images/footer/linkedin.svg" alt="LinkedIn"></a></li>
                            <li><a href="https://www.hackerrank.com/sglavoie"><img src="/theme/images/footer/hackerrank.svg" alt="HackerRank"></a></li>
                            <li><a href="https://stackoverflow.com/users/story/8787680"><img src="/theme/images/footer/stackoverflow.svg" alt="Stackoverflow"></a></li>
                        </ul>

                    </div>

                </address>

                <address id="about" class="vcard body">
                    Proudly powered by <a href="http://getpelican.com/">Pelican {{ PELICAN_VERSION }}<img class="mini-icon" src="/theme/images/footer/pelican.svg" alt="Pelican"></a>,
                    which takes great advantage of <a href="http://python.org">Python<img class="mini-icon" src="/theme/images/footer/python.svg" alt="Python"></a> .

                    <div id="author-footer">
                        <p class="smaller-p-padding">Copyleft <span class="copy-left">©</span> {{ CURRENT_YEAR }} — Sébastien Lavoie
                        <script>
                            <!--
// Email obfuscator script 2.1 by Tim Williams, University of Arizona
// Random encryption key feature coded by Andrew Moulden
// This code is freeware provided these four comment lines remain intact
// A wizard to generate this code is at http://www.jottings.com/obfuscator/
{ coded = "Efp9ExWfz@EoU9R5Wf.45D"
    key = "RXmOLk0xFelpj9ihYV4PZ5AGDB3wsKdfUn12WHJgvqNIrCytS8EbQa6zuMc7To"
    shift=coded.length
    link=""
    for (i=0; i<coded.length; i++) {
        if (key.indexOf(coded.charAt(i))==-1) {
            ltr = coded.charAt(i)
            link += (ltr)
        }
        else {
            ltr = (key.indexOf(coded.charAt(i))-shift+key.length) % key.length
            link += (key.charAt(ltr))
        }
    }
    // Adding inline style to 'img' tag as it seems to be more trustworthy inside this script.
    document.write("<a href='mailto:"+link+"'>"+"<img class='mini-icon' src='/theme/images/footer/email.svg' alt='Email'>"+"</a>")
}
//-->
                        </script><noscript>Sorry, you need Javascript on to email me.</noscript>
                        </p>
                    </div>
                </address>

                <div class="version-footer">{{ SITE_VERSION }}</div>

                <!-- /#about -->
            </footer>

        </div>
        <!-- /#contentinfo -->

        <!-- Optional JavaScript -->
        <!-- jQuery first, then Popper.js, then Bootstrap JS -->
        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>

        <!-- Disqus comment counts for each article -->
        <script id="dsq-count-scr" src="https://sglavoie.disqus.com/count.js" async></script>
    </body>
</html>
